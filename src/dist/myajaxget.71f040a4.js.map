{"version":3,"sources":["my-vue-router-project/myajaxget.js"],"names":["myonload1","mynextfun1","responseTxt","statusTxt","xhr","console","log","allajaxsuccess","status","statusText","myarrayselector","length","myonload2","myarrayselector1","$","i","src","push","element","id","attr","load","haverun","setTimeout","window","onload","myonloadfunc"],"mappings":";AAyBA,SAASA,IAGCC,SAAAA,EAAWC,EAAaC,EAAWC,GAG1B,WAAbD,GACHE,QAAQC,IAAI,cAAgBJ,GAC7BK,iBACiB,SAAbJ,GACHE,QAAQC,IAAI,UAAYF,EAAII,OAAS,KAAOJ,EAAIK,YAG7CF,eAAiBG,gBAAgBC,OACpCN,QAAQC,IAAI,gBAGZD,QAAQC,IAAI,cACZM,aAjBFL,eAAiB,EAqBdF,QAAQC,IAAI,YAEZO,iBAAkBC,EAAE,6CAQpBJ,gBAAgB,GACZ,IAAA,IAAIK,EAAE,EAAEA,EAAEF,iBAAiBF,OAAOI,IAEN,IAAzBF,iBAAiBE,GAAGC,KAEnBN,gBAAgBO,KAAKJ,iBAAiBE,IAI1C,IAAIA,EAAE,EAAEA,EAAEL,gBAAgBC,OAAOI,IAEjCG,QAAQ,IAAIR,gBAAgBK,GAAGI,GAGG,iBAAxBL,EAAEI,SAASE,KAAK,QACtBN,EAAEI,SACFG,KAAKP,EAAEI,SAASE,KAAK,OAAQnB,GAC7BI,QAAQC,IAAI,OAAQY,QAAQ,IAAKJ,EAAEI,SAASE,KAAK,UAEjDb,iBACAF,QAAQC,IAAUY,MAAAA,OAAAA,QAAlB,eA7EZI,QAAU,EAMVC,WAAW,WAEVC,OAAOC,UAEL,KACHD,OAAOC,OAAS,WACA,GAAXH,SACHA,QAAU,EACVjB,QAAQC,IAAI,iBACZoB,gBAEArB,QAAQC,IAAI,oBAMdoB,aAAe1B","file":"myajaxget.71f040a4.js","sourceRoot":"..","sourcesContent":["haverun = 0\r\n//[attribute=value]\t$(\"[href='default.htm']\")\t所有带有 href 属性且值等于 \"default.htm\" 的元素\r\n//$(\"a[target='_blank']\")\t选取所有 target 属性值等于 \"_blank\" 的 <a> 元素\r\n\r\n//= myarrayselector  =[\"#App\", \"#about\", \"#home\", \"#huami\"]\r\n\r\nsetTimeout(() => {\r\n\r\n\twindow.onload()\r\n\r\n}, 1000)\r\nwindow.onload = () => {\r\n\tif (haverun == 0) {\r\n\t\thaverun = 1\r\n\t\tconsole.log(\"开始运行此onload函数\")\r\n\t\tmyonloadfunc()\r\n\t} else {\r\n\t\tconsole.log(\"不要重复运行此onload函数\")\r\n\t}\r\n\r\n\t// myonload1()\r\n\t// myonload2()\r\n}\r\nmyonloadfunc = myonload1\r\n// console.log($(\"#App\").html() ==\"\", $(\"#about\").html()==\"\" , $(\"#home\").html()==\"\" , $(\"#huami\").html()==\"\")\r\nfunction myonload1() {\r\n\tallajaxsuccess = 0\r\n\t// console.log($(\"#App\").html())\r\n\tfunction mynextfun1(responseTxt, statusTxt, xhr) {\r\n        // console.log(window.myxhr=xhr)\r\n        // console.log(\"xhr\", xhr)\r\n\t\tif (statusTxt == \"success\")\r\n\t\t\tconsole.log(\"外部内容加载成功!\\n\" + responseTxt);\r\n\t\tallajaxsuccess++\r\n\t\tif (statusTxt == \"error\")\r\n\t\t\tconsole.log(\"Error: \" + xhr.status + \": \" + xhr.statusText);\r\n\t\t// console.log($(\"#App\").html() ==\"\"|| $(\"#about\").html()==\"\" || $(\"#home\").html()==\"\" || $(\"#huami\").html()==\"\")\r\n\t\t// console.log(\"ajaxget,ok!\")\r\n\t\tif (allajaxsuccess < myarrayselector.length) {\r\n\t\t\tconsole.log(\"外部内容加载部分未完成\")\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log(\"外部内容加载全部完成\")\r\n\t\t\tmyonload2()\r\n\t\t}\r\n\r\n\t}\r\n    console.log(\"开始外部内容加载\");\r\n    //加载type='text/x-template'的script的内容\r\n    myarrayselector1 =$(\"script[ type='text/x-template'][ src!='']\")\r\n    // console.log(myarrayselector1)\r\n    // myarrayselector=myarrayselector1\r\n    // myarrayselector=myarrayselector1.filter(e=>{\r\n    //     console.log( e.src!=\"\")\r\n    //     if ( e.src!=\"\")return true\r\n    //     else return false\r\n    // });\r\n    myarrayselector=[]\r\n    for(var i=0;i<myarrayselector1.length;i++){\r\n        // console.log(myarrayselector1[i].src!=\"\")\r\n        if(myarrayselector1[i].src!=\"\"){\r\n\r\n            myarrayselector.push(myarrayselector1[i])\r\n        }\r\n    }\r\n    // console.log(myarrayselector)\r\n    for(var i=0;i<myarrayselector.length;i++){\r\n        // console.log(myarrayselector[i])\r\n        element=\"#\"+myarrayselector[i].id\r\n        // console.log(typeof $(element).attr(\"src\"))\r\n        // console.log(myarrayselector[i].src!=\"\")\r\n        if(typeof $(element).attr(\"src\")=='string'){\r\n            $(element).\r\n            load($(element).attr(\"src\"), mynextfun1)\r\n            console.log(\"开始加载\" +element,\"从\"+ $(element).attr(\"src\"));\r\n        }else{\r\n            allajaxsuccess++\r\n            console.log(`该元素${element}没有src,不加载`)\r\n        }\r\n       \r\n    }\r\n   \r\n\t// myarrayselector = [\"#App\", \"#about\", \"#home\", \"#huami\"]\r\n\t// myarrayselector.forEach(element => {\r\n\t// \tconsole.log(\"开始加载\" + $(element).attr(\"src\"));\r\n\t// \t$(element).load($(element).attr(\"src\"), mynextfun1);\r\n\t// });\r\n\t// $(\"#App\").load(\"app.template.html\", mynextfun1);\r\n\t// $(\"#about\").load(\"about.template.html\", mynextfun1);\r\n\t// $(\"#home\").load(\"home.template.html\", mynextfun1);\r\n\t// $(\"#huami\").load(\"huami.template.html\", mynextfun1);\r\n}\r\n"]}