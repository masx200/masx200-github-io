{"version":3,"sources":["../圆周率计算-可设置圆周率位数-可选择线程个数-多线程大数框架webworker输出useragent大数框架/mypidashujisuan.js"],"names":["onload","mytestpi","getConstpinewhighefficiency105","document","getElementById","value","jisuanfinishflag","threadgeshu","x","piwei","myptext","myshurukuangneirong","navigator","userAgent","onclick","mystart","Math","floor","title","eventdata","String","Decimal","precision","strt","Date","getTime","p","myworker","length","finishflag","worker1","Worker","i","len","forEach","currentValue","index","arr","undefined","postMessage","onmessage","event","console","log","data","p1","add","max","parseInt","threadfinish","alert","filter","endt","durt","terminate","setTimeout","style","height","scrollHeight"],"mappings":"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","file":"mypidashujisuan.39d9d53a.js","sourceRoot":"..","sourcesContent":["onload = mytestpi;\r\n\r\nfunction mytestpi() {\r\n\r\n\tgetConstpinewhighefficiency105()\r\n};\r\n\r\nfunction getConstpinewhighefficiency105() {\r\n\tdocument.getElementById(\"thread\").value = 8\r\n\tdocument.getElementById(\"pichangwei\").value = 3\r\n\tjisuanfinishflag = 1;\r\n\tthreadgeshu = 8\r\n\tx = 0;\r\n\tpiwei = 3000;\r\n\tmyptext = document.getElementById(\"tp\");\r\n\tmyshurukuangneirong = \" \";\r\n\tmyshurukuangneirong = myshurukuangneirong + \"UserAgent: \" + navigator.userAgent + \"\\n\";\r\n\tmyshurukuangneirong = myshurukuangneirong + \"开始圆周率多线程测试\\n\";\r\n\tmyptext.value = myshurukuangneirong;\r\n\tdocument.getElementById(\"start\").onclick = mystart;\r\n\r\n}\r\n\r\nfunction mystart() {\r\n\r\n\tjisuanfinishflag = 0;\r\n\r\n\tif (document.getElementById(\"thread\").value >= 1 && document.getElementById(\"thread\").value <= 12 && document.getElementById(\r\n\t\t\t\"pichangwei\").value >= 1 && document.getElementById(\"pichangwei\").value <= 100) {\r\n\t\tpiwei = 1000 * Math.floor(document.getElementById(\"pichangwei\").value);\r\n\t\tdocument.getElementById(\"pichangwei\").value = Math.floor(document.getElementById(\"pichangwei\").value)\r\n\t\tthreadgeshu = Math.floor(document.getElementById(\"thread\").value)\r\n\t\tdocument.getElementById(\"thread\").value = threadgeshu\r\n\t\tdocument.title = document.title + \"-\" + \"线程数为\" + threadgeshu\r\n\t\tmyshurukuangneirong = myshurukuangneirong + \"线程数为\" + threadgeshu + \"\\n\";\r\n\t\tmyptext.value = myshurukuangneirong;\r\n\t\teventdata = \"圆周率计算\" + piwei + \"位\" + \"  \\n\" + \"计算圆周率中......\" + \"  \\n\";\r\n\r\n\t\tmyshurukuangneirong += String(eventdata);\r\n\t\tmyptext.value = myshurukuangneirong;\r\n\t\tDecimal.precision = piwei;\r\n\r\n\t\tstrt = new Date().getTime();\r\n\t\tp = new Decimal(0);\r\n\r\n\t\tmyworker = []\r\n\t\tmyworker.length = threadgeshu;\r\n\r\n\t\tfinishflag = []\r\n\t\tfinishflag.length = threadgeshu;\r\n\t\tvar worker1;\r\n\t\tif (typeof(worker1) == \"undefined\") {\r\n\t\t\tworker1 = new Worker(\"mythread1.js\")\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, len = threadgeshu; i < len; i++) {\r\n\t\t\tmyworker[i] = worker1;\r\n\t\t}\r\n\r\n\t\tmyworker.forEach(function(currentValue, index, arr) {\r\n\r\n\t\t\tarr[index] = undefined;\r\n\r\n\t\t\tarr[index] = new Worker(\"mythread1.js\")\r\n\t\t\tarr[index].postMessage([piwei, threadgeshu, index]);\r\n\t\t\tarr[index].onmessage = function(event) {\r\n\t\t\t\tconsole.log(\"主线程从副线程\" + (index + 1) + \"接收\" + \"event.data\\n\" + event.data);\r\n\t\t\t\tvar p1 = new Decimal(event.data[0]);\r\n\t\t\t\tp = Decimal.add(p, p1);\r\n\t\t\t\tx = Math.max(x, parseInt(event.data[1]))\r\n\t\t\t\tfinishflag[index] = 1;\r\n\t\t\t\tthreadfinish()\r\n\t\t\t};\r\n\r\n\t\t});\r\n\r\n\t} else {\r\n\t\talert(\"输入错误\")\r\n\t\tdocument.getElementById(\"pichangwei\").value = null\r\n\t\tdocument.getElementById(\"thread\").value = null\r\n\t}\r\n\r\n}\r\n\r\nfunction threadfinish() {\r\n\r\n\tif (threadgeshu == finishflag.filter(function(currentValue) {\r\n\t\t\treturn currentValue == 1;\r\n\r\n\t\t}).length) {\r\n\t\tendt = new Date().getTime();\r\n\t\tdurt = (endt - strt) / 1000;\r\n\r\n\t\teventdata = \"计算完成,用时\" + durt + \"秒第\" + x + \"次  \\n\" + \"圆周率\" + piwei + \"位\" + \"  \\n\" + p + \"  \\n\";\r\n\t\tmyptext = document.getElementById(\"tp\");\r\n\t\tmyshurukuangneirong += String(eventdata);\r\n\t\tmyptext.value = myshurukuangneirong;\r\n\t\tjisuanfinishflag = 1;\r\n\t\tmyworker.forEach(function(currentValue, index, arr) {\r\n\t\t\tarr[index].terminate()\r\n\t\t})\r\n\t\tx = 0\r\n\t\t//alert(\"ok\")\r\n\t\tsetTimeout(function() {\r\n\t\t\tmyptext.style.height = myptext.scrollHeight + 'px';\r\n\t\t}, 0);\r\n\r\n\t}\r\n}\n"]}