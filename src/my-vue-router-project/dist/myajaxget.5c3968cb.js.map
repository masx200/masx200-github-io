{"version":3,"sources":["myajaxget.js"],"names":["haverun","setTimeout","window","onload","console","log","myonloadfunc","myonload1","allajaxsuccess","mynextfun1","responseTxt","statusTxt","xhr","status","statusText","myarrayselector","length","myonload2","myarrayselector1","$","i","src","push","element","id","attr","load"],"mappings":"AAAAA,OAAO,GAAG,CAAV,EACA;AACA;AAEA;;AAEAC,UAAU,CAAC,YAAM;AAEhBC,EAAAA,MAAM,CAACC,MAAP;AAEA,CAJS,EAIP,IAJO,CAAV;;AAKAD,MAAM,CAACC,MAAP,GAAgB,YAAM;AACrB,MAAIH,OAAO,IAAI,CAAf,EAAkB;AACjBA,IAAAA,OAAO,GAAG,CAAV;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAC,IAAAA,YAAY;AACZ,GAJD,MAIO;AACNF,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,GAPoB,CASrB;AACA;;AACA,CAXD;;AAYAC,YAAY,GAAGC,SAAf,EACA;;AACA,SAASA,SAAT,GAAqB;AACpBC,EAAAA,cAAc,GAAG,CAAjB,CADoB,CAEpB;;AACA,WAASC,UAAT,CAAoBC,WAApB,EAAiCC,SAAjC,EAA4CC,GAA5C,EAAiD;AAC1C;AACA;AACN,QAAID,SAAS,IAAI,SAAjB,EACCP,OAAO,CAACC,GAAR,CAAY,gBAAgBK,WAA5B;AACDF,IAAAA,cAAc;AACd,QAAIG,SAAS,IAAI,OAAjB,EACCP,OAAO,CAACC,GAAR,CAAY,YAAYO,GAAG,CAACC,MAAhB,GAAyB,IAAzB,GAAgCD,GAAG,CAACE,UAAhD,EAP+C,CAQhD;AACA;;AACA,QAAIN,cAAc,GAAGO,eAAe,CAACC,MAArC,EAA6C;AAC5CZ,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAEA,KAHD,MAGO;AACND,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAY,MAAAA,SAAS;AACT;AAED;;AACEb,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAtBiB,CAuBjB;;AACAa,EAAAA,gBAAgB,GAAEC,CAAC,CAAC,2CAAD,CAAnB,CAxBiB,CAyBjB;AACA;AACA;AACA;AACA;AACA;AACA;;AACAJ,EAAAA,eAAe,GAAC,EAAhB;;AACA,OAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,gBAAgB,CAACF,MAA/B,EAAsCI,CAAC,EAAvC,EAA0C;AACtC;AACA,QAAGF,gBAAgB,CAACE,CAAD,CAAhB,CAAoBC,GAApB,IAAyB,EAA5B,EAA+B;AAE3BN,MAAAA,eAAe,CAACO,IAAhB,CAAqBJ,gBAAgB,CAACE,CAAD,CAArC;AACH;AACJ,GAvCgB,CAwCjB;;;AACA,OAAI,IAAIA,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACL,eAAe,CAACC,MAA9B,EAAqCI,CAAC,EAAtC,EAAyC;AACrC;AACAG,IAAAA,OAAO,GAAC,MAAIR,eAAe,CAACK,CAAD,CAAf,CAAmBI,EAA/B,CAFqC,CAGrC;AACA;;AACA,QAAG,OAAOL,CAAC,CAACI,OAAD,CAAD,CAAWE,IAAX,CAAgB,KAAhB,CAAP,IAA+B,QAAlC,EAA2C;AACvCN,MAAAA,CAAC,CAACI,OAAD,CAAD,CACAG,IADA,CACKP,CAAC,CAACI,OAAD,CAAD,CAAWE,IAAX,CAAgB,KAAhB,CADL,EAC6BhB,UAD7B;AAEAL,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAQkB,OAApB,EAA4B,MAAKJ,CAAC,CAACI,OAAD,CAAD,CAAWE,IAAX,CAAgB,KAAhB,CAAjC;AACH,KAJD,MAIK;AACDjB,MAAAA,cAAc;AACdJ,MAAAA,OAAO,CAACC,GAAR,6BAAkBkB,OAAlB;AACH;AAEJ,GAvDgB,CAyDpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA","file":"myajaxget.5c3968cb.js","sourceRoot":"..","sourcesContent":["haverun = 0\r\n//[attribute=value]\t$(\"[href='default.htm']\")\t所有带有 href 属性且值等于 \"default.htm\" 的元素\r\n//$(\"a[target='_blank']\")\t选取所有 target 属性值等于 \"_blank\" 的 <a> 元素\r\n\r\n//= myarrayselector  =[\"#App\", \"#about\", \"#home\", \"#huami\"]\r\n\r\nsetTimeout(() => {\r\n\r\n\twindow.onload()\r\n\r\n}, 1000)\r\nwindow.onload = () => {\r\n\tif (haverun == 0) {\r\n\t\thaverun = 1\r\n\t\tconsole.log(\"开始运行此onload函数\")\r\n\t\tmyonloadfunc()\r\n\t} else {\r\n\t\tconsole.log(\"不要重复运行此onload函数\")\r\n\t}\r\n\r\n\t// myonload1()\r\n\t// myonload2()\r\n}\r\nmyonloadfunc = myonload1\r\n// console.log($(\"#App\").html() ==\"\", $(\"#about\").html()==\"\" , $(\"#home\").html()==\"\" , $(\"#huami\").html()==\"\")\r\nfunction myonload1() {\r\n\tallajaxsuccess = 0\r\n\t// console.log($(\"#App\").html())\r\n\tfunction mynextfun1(responseTxt, statusTxt, xhr) {\r\n        // console.log(window.myxhr=xhr)\r\n        // console.log(\"xhr\", xhr)\r\n\t\tif (statusTxt == \"success\")\r\n\t\t\tconsole.log(\"外部内容加载成功!\\n\" + responseTxt);\r\n\t\tallajaxsuccess++\r\n\t\tif (statusTxt == \"error\")\r\n\t\t\tconsole.log(\"Error: \" + xhr.status + \": \" + xhr.statusText);\r\n\t\t// console.log($(\"#App\").html() ==\"\"|| $(\"#about\").html()==\"\" || $(\"#home\").html()==\"\" || $(\"#huami\").html()==\"\")\r\n\t\t// console.log(\"ajaxget,ok!\")\r\n\t\tif (allajaxsuccess < myarrayselector.length) {\r\n\t\t\tconsole.log(\"外部内容加载部分未完成\")\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log(\"外部内容加载全部完成\")\r\n\t\t\tmyonload2()\r\n\t\t}\r\n\r\n\t}\r\n    console.log(\"开始外部内容加载\");\r\n    //加载type='text/x-template'的script的内容\r\n    myarrayselector1 =$(\"script[ type='text/x-template'][ src!='']\")\r\n    // console.log(myarrayselector1)\r\n    // myarrayselector=myarrayselector1\r\n    // myarrayselector=myarrayselector1.filter(e=>{\r\n    //     console.log( e.src!=\"\")\r\n    //     if ( e.src!=\"\")return true\r\n    //     else return false\r\n    // });\r\n    myarrayselector=[]\r\n    for(var i=0;i<myarrayselector1.length;i++){\r\n        // console.log(myarrayselector1[i].src!=\"\")\r\n        if(myarrayselector1[i].src!=\"\"){\r\n\r\n            myarrayselector.push(myarrayselector1[i])\r\n        }\r\n    }\r\n    // console.log(myarrayselector)\r\n    for(var i=0;i<myarrayselector.length;i++){\r\n        // console.log(myarrayselector[i])\r\n        element=\"#\"+myarrayselector[i].id\r\n        // console.log(typeof $(element).attr(\"src\"))\r\n        // console.log(myarrayselector[i].src!=\"\")\r\n        if(typeof $(element).attr(\"src\")=='string'){\r\n            $(element).\r\n            load($(element).attr(\"src\"), mynextfun1)\r\n            console.log(\"开始加载\" +element,\"从\"+ $(element).attr(\"src\"));\r\n        }else{\r\n            allajaxsuccess++\r\n            console.log(`该元素${element}没有src,不加载`)\r\n        }\r\n       \r\n    }\r\n   \r\n\t// myarrayselector = [\"#App\", \"#about\", \"#home\", \"#huami\"]\r\n\t// myarrayselector.forEach(element => {\r\n\t// \tconsole.log(\"开始加载\" + $(element).attr(\"src\"));\r\n\t// \t$(element).load($(element).attr(\"src\"), mynextfun1);\r\n\t// });\r\n\t// $(\"#App\").load(\"app.template.html\", mynextfun1);\r\n\t// $(\"#about\").load(\"about.template.html\", mynextfun1);\r\n\t// $(\"#home\").load(\"home.template.html\", mynextfun1);\r\n\t// $(\"#huami\").load(\"huami.template.html\", mynextfun1);\r\n}\r\n"]}