importScripts(
    "https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-sw.js"
),
    workbox.routing.registerRoute(
        new RegExp(".*.js$"),
        new workbox.strategies.NetworkFirst({})
    ),
    workbox.routing.registerRoute(
        new RegExp(".*.html$"),
        new workbox.strategies.NetworkFirst({})
    ),
    workbox.routing.registerRoute(
        new RegExp(".*/$"),
        new workbox.strategies.NetworkFirst({})
    ),
    workbox.routing.registerRoute(
        new RegExp(".*.css$"),
        new workbox.strategies.StaleWhileRevalidate({})
    ),
    workbox.routing.registerRoute(
        /.*\.md$/,
        new workbox.strategies.StaleWhileRevalidate({})
    ),
    workbox.routing.registerRoute(
        /\.xml$/,
        new workbox.strategies.StaleWhileRevalidate({})
    ),
    workbox.routing.registerRoute(
        /\.json$/,
        new workbox.strategies.StaleWhileRevalidate({})
    ),
    workbox.routing.registerRoute(
        /\.(?:png|jpg|jpeg|svg|gif)$/,
        new workbox.strategies.CacheFirst({
            plugins: [
                new workbox.expiration.Plugin({
                    maxEntries: 20,
                    maxAgeSeconds: 604800,
                }),
            ],
        })
    );
